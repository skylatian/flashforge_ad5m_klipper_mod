# Common configuration for all target variants.
# Merged with SDK config.

# Build Options
BR2_ROOTFS_POST_BUILD_SCRIPT="$(BR2_EXTERNAL_AD5M_PATH)/post_build.sh"
BR2_TARGET_ROOTFS_TAR=y

# Toolchain Overrides (use SDK)
BR2_TOOLCHAIN_EXTERNAL=y
BR2_TOOLCHAIN_EXTERNAL_CUSTOM=y
BR2_TOOLCHAIN_EXTERNAL_PATH="../../build_output/buildroot/sdk/host/"
BR2_TOOLCHAIN_EXTERNAL_CUSTOM_PREFIX="$(ARCH)-buildroot-linux-gnueabihf"
BR2_TOOLCHAIN_EXTERNAL_GCC_11=y
BR2_TOOLCHAIN_EXTERNAL_HEADERS_5_4=y
BR2_TOOLCHAIN_EXTERNAL_CUSTOM_GLIBC=y
# BR2_TOOLCHAIN_EXTERNAL_INET_RPC is not set
BR2_TOOLCHAIN_EXTERNAL_CXX=y

# System config
BR2_INIT_BUSYBOX=y
BR2_SYSTEM_BIN_SH_BUSYBOX=y
BR2_PACKAGE_BUSYBOX_CONFIG="ffadm5_configs/busybox.config"
BR2_PACKAGE_BUSYBOX_SHOW_OTHERS=y

# Host Config
BR2_TARGET_GENERIC_HOSTNAME="AD5M"
BR2_TARGET_GENERIC_ISSUE=""
BR2_ROOTFS_DEVICE_CREATION_DYNAMIC_MDEV=y
BR2_TARGET_GENERIC_ROOT_PASSWD="klipper"
BR2_SYSTEM_DHCP="eth0"
BR2_ENABLE_LOCALE_WHITELIST="C.UTF-8"
BR2_GENERATE_LOCALE="C.UTF-8"
BR2_PACKAGE_CA_CERTIFICATES=y

# System Tools
BR2_PACKAGE_BINUTILS=y
BR2_PACKAGE_BINUTILS_TARGET=y
BR2_PACKAGE_UTIL_LINUX=y
BR2_PACKAGE_UTIL_LINUX_BINARIES=y
BR2_PACKAGE_UTIL_LINUX_NSENTER=y

# Networking
BR2_PACKAGE_IWD=y
BR2_PACKAGE_DROPBEAR=y
BR2_PACKAGE_IPROUTE2=y
BR2_PACKAGE_IPTABLES=y
BR2_PACKAGE_WIRELESS_TOOLS=y
BR2_PACKAGE_LIBCURL_CURL=y
BR2_PACKAGE_USTREAMER=y

# Timezone support
BR2_TARGET_TZ_INFO=y
BR2_TARGET_TZ_ZONELIST="default"
BR2_TARGET_LOCALTIME="Etc/UTC"

# Text Editor
BR2_PACKAGE_NANO=y
BR2_PACKAGE_VIM=y
# BR2_PACKAGE_VIM_RUNTIME is not set

# Target Python Dependencies
BR2_PACKAGE_PYTHON_FF_AD5M_AUDIO=y
BR2_PACKAGE_PYTHON_FF_AD5M_BACKLIGHT=y
BR2_PACKAGE_PYTHON_NUMPY=y
BR2_PACKAGE_PYTHON_PIP=y

# Other
BR2_PACKAGE_FILE=y
BR2_PACKAGE_NETCAT_OPENBSD=y
BR2_PACKAGE_SOCAT=y
BR2_PACKAGE_TCPDUMP=y
BR2_PACKAGE_LSHW=y
BR2_PACKAGE_GIT=y
BR2_PACKAGE_LIBGPIOD_TOOLS=y
BR2_PACKAGE_LIBV4L_UTILS=y
BR2_PACKAGE_RSYNC=y
BR2_PACKAGE_SCREEN=y
BR2_PACKAGE_NFS_UTILS=y
BR2_PACKAGE_NFS_UTILS_NFSV4=y
# BR2_PACKAGE_NFS_UTILS_RPC_NFSD is not set
